---
title: 내가 모르던 git(2)
date:   2021-12-27 16:57:33
categories: [git]
tags: [git]
---

이 글은 **팀 개발을 위한 Git, GitHub 시작하기** 를 읽고 제가 모르는 부분을 정리한 문서입니다.

### 커밋은 Delta(차이점)가 아니라 Snapshot

Git은 커밋에 바뀐 것만 저장하는 것이 아니라 전체 코드를 저장한다.

![Untitled](../../assets/img/posts/2021-12-27-git(2)/Untitled.png)

### Git으로 관리하는 파일의 4가지 상태

- untracked : 아직 git이 관리하고 있지 않음
- staged : 스테이지 위에 올림, git이 보고있음
- unmodified : 커밋에 의해서 스냅샷에 찍힌 후에, 수정한 적이 없음
- modified : 커밋에 의해서 스냅샷에 찍힌 후에, 수정된 상태

![Untitled](../../assets/img/posts/2021-12-27-git(2)/Untitled%201.png)

### 브랜치

브랜치는 커밋에 대한 길이 아니라 단순한 포인터이다.  길 처럼 보인 이유는, 새로운 커밋이 이전 커밋을 가리키는 화살표 때문이다. 그러한 화살표는 브랜치와는 아무런 연관이 없다.

![Untitled](../../assets/img/posts/2021-12-27-git(2)/Untitled%202.png)

브랜치는 물리적인 길이 아니고 단순한 포인터이기 때문에 SVN 등에 비해 가볍고 빠르다는 특징이있다.

![Untitled](../../assets/img/posts/2021-12-27-git(2)/Untitled%203.png)

만약 위의 그림과 같이 2개의 브랜치가 존재한다면, 분명 우리는 둘 중 하나를 보고있어야하며, 서로 다른 2개의 브랜치를 넘나들수 있어야한다. 이를 위해서는 이 브랜치를 가리키고 있는 포인터가 하나 더 필요하다. 그게 `HEAD` 이다.

아래 그림을 보면, `HEAD` 가 `master` 를 보고 있으면 커밋 5를, `고양이` 를 보고있으면 커밋 4를 볼 수 있음을 짐작할 수 있다.

![Untitled](../../assets/img/posts/2021-12-27-git(2)/Untitled%204.png)

### 병합의 3가지

병합은 두 버전의 합집합을 구하는 것이다. 상황에 따라 3가지의 경우가 나온다

1. 병합 커밋 : 1버전과 2버전의 합집합이 나오게 된다. 새로운 커밋이 생기게된다.
2. Fast-forward : 1개의 버전이 다른 버전에 집합관계이기 때문에 새로운 커밋을 만들어줄 필요없이 상태를 바꿔주기만한다.
3. Confilct : 1버전과 2버전이 동일 파일을 변경할 경우, 어떠한 것을 커밋해야할지 몰라 생기게 된다. 개발자가 수작업으로 해결해야한다.

### 풀은 실제 코드를 내려받고, 패치는 그래프만 업데이트 해준다

소스트리는 10분에 한 번씩 자동으로 패치를 하기 때문에 그래프가 매번 새로워보인다.

### 태그도 포인터이다.

태그는 별다른 특정 기능을 하는것이 아닌 그저 포인터의 일환이다.
